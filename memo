可能性がある事としては、deadの時の処理が上手くできていない。
もしも死んでいたらのif文をコメントアウトしてあげると、問題なく出力してくれる。
だけど、コメントアウトを外すとデットロックが起きてしまう。
途中まで問題なく動いてるけど、何故か変な理由でphiloが死んでしまっている。。
ようへいさんが教えてくれたコードも試してみる。deadのやつ